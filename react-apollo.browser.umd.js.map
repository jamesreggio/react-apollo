{"version":3,"file":"react-apollo.browser.umd.js","sources":["getDataFromTree.js","ApolloConsumer.js","queryRecycler.js","QueryRecyclerProvider.js","ApolloProvider.js","parser.js","Query.js","graphql.js","withApollo.js","browser.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = require(\"react\");\nvar object_assign_1 = require(\"object-assign\");\nfunction getProps(element) {\n    return (element.props ||\n        element.attributes);\n}\nfunction isReactElement(element) {\n    return !!element.type;\n}\nfunction isComponentClass(Comp) {\n    return (Comp.prototype && (Comp.prototype.render || Comp.prototype.isReactComponent));\n}\nfunction providesChildContext(instance) {\n    return !!instance.getChildContext;\n}\nfunction walkTree(element, context, visitor) {\n    if (Array.isArray(element)) {\n        element.forEach(function (item) { return walkTree(item, context, visitor); });\n        return;\n    }\n    if (!element)\n        return;\n    if (isReactElement(element)) {\n        if (typeof element.type === 'function') {\n            var Comp = element.type;\n            var props = object_assign_1.default({}, Comp.defaultProps, getProps(element));\n            var childContext = context;\n            var child = void 0;\n            if (isComponentClass(Comp)) {\n                var instance_1 = new Comp(props, context);\n                instance_1.props = instance_1.props || props;\n                instance_1.context = instance_1.context || context;\n                instance_1.state = instance_1.state || null;\n                instance_1.setState = function (newState) {\n                    if (typeof newState === 'function') {\n                        newState = newState(instance_1.state, instance_1.props, instance_1.context);\n                    }\n                    instance_1.state = object_assign_1.default({}, instance_1.state, newState);\n                };\n                if (instance_1.componentWillMount) {\n                    instance_1.componentWillMount();\n                }\n                if (providesChildContext(instance_1)) {\n                    childContext = object_assign_1.default({}, context, instance_1.getChildContext());\n                }\n                if (visitor(element, instance_1, context) === false) {\n                    return;\n                }\n                child = instance_1.render();\n            }\n            else {\n                if (visitor(element, null, context) === false) {\n                    return;\n                }\n                child = Comp(props, context);\n            }\n            if (child) {\n                if (Array.isArray(child)) {\n                    child.forEach(function (item) { return walkTree(item, context, visitor); });\n                }\n                else {\n                    walkTree(child, childContext, visitor);\n                }\n            }\n        }\n        else {\n            if (visitor(element, null, context) === false) {\n                return;\n            }\n            if (element.props && element.props.children) {\n                react_1.Children.forEach(element.props.children, function (child) {\n                    if (child) {\n                        walkTree(child, context, visitor);\n                    }\n                });\n            }\n        }\n    }\n    else if (typeof element === 'string' || typeof element === 'number') {\n        visitor(element, null, context);\n    }\n}\nexports.walkTree = walkTree;\nfunction hasFetchDataFunction(instance) {\n    return typeof instance.fetchData === 'function';\n}\nfunction isPromise(query) {\n    return typeof query.then === 'function';\n}\nfunction getQueriesFromTree(_a, fetchRoot) {\n    var rootElement = _a.rootElement, _b = _a.rootContext, rootContext = _b === void 0 ? {} : _b;\n    if (fetchRoot === void 0) { fetchRoot = true; }\n    var queries = [];\n    walkTree(rootElement, rootContext, function (element, instance, context) {\n        var skipRoot = !fetchRoot && element === rootElement;\n        if (skipRoot)\n            return;\n        if (instance && isReactElement(element) && hasFetchDataFunction(instance)) {\n            var query = instance.fetchData();\n            if (isPromise(query)) {\n                queries.push({ query: query, element: element, context: context });\n                return false;\n            }\n        }\n    });\n    return queries;\n}\nfunction getDataFromTree(rootElement, rootContext, fetchRoot) {\n    if (rootContext === void 0) { rootContext = {}; }\n    if (fetchRoot === void 0) { fetchRoot = true; }\n    var queries = getQueriesFromTree({ rootElement: rootElement, rootContext: rootContext }, fetchRoot);\n    if (!queries.length)\n        return Promise.resolve();\n    var errors = [];\n    var mappedQueries = queries.map(function (_a) {\n        var query = _a.query, element = _a.element, context = _a.context;\n        return query\n            .then(function (_) { return getDataFromTree(element, context, false); })\n            .catch(function (e) { return errors.push(e); });\n    });\n    return Promise.all(mappedQueries).then(function (_) {\n        if (errors.length > 0) {\n            var error = errors.length === 1\n                ? errors[0]\n                : new Error(errors.length + \" errors were thrown when executing your GraphQL queries.\");\n            error.queryErrors = errors;\n            throw error;\n        }\n    });\n}\nexports.default = getDataFromTree;\n//# sourceMappingURL=getDataFromTree.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar PropTypes = require(\"prop-types\");\nvar invariant_1 = require(\"invariant\");\nvar ApolloConsumer = function (props, context) {\n    invariant_1.default(!!context.client, \"Could not find \\\"client\\\" in the context of ApolloConsumer. Wrap the root component in an <ApolloProvider>\");\n    return props.children(context.client);\n};\nApolloConsumer.contextTypes = {\n    client: PropTypes.object.isRequired,\n};\nexports.default = ApolloConsumer;\n//# sourceMappingURL=ApolloConsumer.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar shallowEqual = require('fbjs/lib/shallowEqual');\nvar ObservableQueryRecycler = (function () {\n    function ObservableQueryRecycler() {\n        this.observableQueries = [];\n    }\n    ObservableQueryRecycler.prototype.recycle = function (observableQuery) {\n        observableQuery.setOptions({\n            fetchPolicy: 'standby',\n            pollInterval: 0,\n            fetchResults: false,\n        });\n        this.observableQueries.push({\n            observableQuery: observableQuery,\n            subscription: observableQuery.subscribe({}),\n        });\n    };\n    ObservableQueryRecycler.prototype.reuse = function (options) {\n        if (this.observableQueries.length <= 0) {\n            return null;\n        }\n        var item = this.observableQueries.pop();\n        if (!item) {\n            return null;\n        }\n        var observableQuery = item.observableQuery, subscription = item.subscription;\n        subscription.unsubscribe();\n        var ssr = options.ssr, client = options.client, modifiableOpts = __rest(options, [\"ssr\", \"client\"]);\n        if (!shallowEqual(modifiableOpts.variables || {}, observableQuery.variables))\n            return null;\n        observableQuery.setOptions(__assign({}, modifiableOpts, { pollInterval: options.pollInterval, fetchPolicy: options.fetchPolicy }));\n        return observableQuery;\n    };\n    return ObservableQueryRecycler;\n}());\nexports.ObservableQueryRecycler = ObservableQueryRecycler;\n//# sourceMappingURL=queryRecycler.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar PropTypes = require(\"prop-types\");\nvar queryRecycler_1 = require(\"./queryRecycler\");\nvar QueryRecyclerProvider = (function (_super) {\n    __extends(QueryRecyclerProvider, _super);\n    function QueryRecyclerProvider(props) {\n        var _this = _super.call(this, props) || this;\n        _this.recyclers = new WeakMap();\n        _this.getQueryRecycler = _this.getQueryRecycler.bind(_this);\n        return _this;\n    }\n    QueryRecyclerProvider.prototype.componentWillReceiveProps = function (_, nextContext) {\n        if (this.context.client !== nextContext.client) {\n            this.recyclers = new WeakMap();\n        }\n    };\n    QueryRecyclerProvider.prototype.getQueryRecycler = function (component) {\n        if (!this.recyclers.has(component)) {\n            this.recyclers.set(component, new queryRecycler_1.ObservableQueryRecycler());\n        }\n        return this.recyclers.get(component);\n    };\n    QueryRecyclerProvider.prototype.getChildContext = function () {\n        return {\n            getQueryRecycler: this.getQueryRecycler,\n        };\n    };\n    QueryRecyclerProvider.prototype.render = function () {\n        return this.props.children;\n    };\n    QueryRecyclerProvider.propTypes = {\n        children: PropTypes.element.isRequired,\n    };\n    QueryRecyclerProvider.contextTypes = {\n        client: PropTypes.object,\n    };\n    QueryRecyclerProvider.childContextTypes = {\n        getQueryRecycler: PropTypes.func.isRequired,\n    };\n    return QueryRecyclerProvider;\n}(React.Component));\nexports.default = QueryRecyclerProvider;\n//# sourceMappingURL=QueryRecyclerProvider.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar PropTypes = require(\"prop-types\");\nvar react_1 = require(\"react\");\nvar QueryRecyclerProvider_1 = require(\"./QueryRecyclerProvider\");\nvar invariant_1 = require(\"invariant\");\nvar ApolloProvider = (function (_super) {\n    __extends(ApolloProvider, _super);\n    function ApolloProvider(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        invariant_1.default(props.client, 'ApolloClient was not passed a client instance. Make ' +\n            'sure you pass in your client via the \"client\" prop.');\n        return _this;\n    }\n    ApolloProvider.prototype.getChildContext = function () {\n        return {\n            client: this.props.client,\n        };\n    };\n    ApolloProvider.prototype.render = function () {\n        return (React.createElement(QueryRecyclerProvider_1.default, null, React.Children.only(this.props.children)));\n    };\n    ApolloProvider.propTypes = {\n        client: PropTypes.object.isRequired,\n        children: PropTypes.element.isRequired,\n    };\n    ApolloProvider.childContextTypes = {\n        client: PropTypes.object.isRequired,\n    };\n    return ApolloProvider;\n}(react_1.Component));\nexports.default = ApolloProvider;\n//# sourceMappingURL=ApolloProvider.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar invariant_1 = require(\"invariant\");\nvar DocumentType;\n(function (DocumentType) {\n    DocumentType[DocumentType[\"Query\"] = 0] = \"Query\";\n    DocumentType[DocumentType[\"Mutation\"] = 1] = \"Mutation\";\n    DocumentType[DocumentType[\"Subscription\"] = 2] = \"Subscription\";\n})(DocumentType = exports.DocumentType || (exports.DocumentType = {}));\nfunction parser(document) {\n    var variables, type, name;\n    invariant_1.default(!!document && !!document.kind, \"Argument of \" + document + \" passed to parser was not a valid GraphQL \" +\n        \"DocumentNode. You may need to use 'graphql-tag' or another method \" +\n        \"to convert your operation into a document\");\n    var fragments = document.definitions.filter(function (x) { return x.kind === 'FragmentDefinition'; });\n    var queries = document.definitions.filter(function (x) {\n        return x.kind === 'OperationDefinition' && x.operation === 'query';\n    });\n    var mutations = document.definitions.filter(function (x) {\n        return x.kind === 'OperationDefinition' && x.operation === 'mutation';\n    });\n    var subscriptions = document.definitions.filter(function (x) {\n        return x.kind === 'OperationDefinition' && x.operation === 'subscription';\n    });\n    invariant_1.default(!fragments.length ||\n        (queries.length || mutations.length || subscriptions.length), \"Passing only a fragment to 'graphql' is not yet supported. \" +\n        \"You must include a query, subscription or mutation as well\");\n    invariant_1.default(queries.length + mutations.length + subscriptions.length <= 1, \"react-apollo only supports a query, subscription, or a mutation per HOC. \" +\n        (document + \" had \" + queries.length + \" queries, \" + subscriptions.length + \" \") +\n        (\"subscriptions and \" + mutations.length + \" mutations. \") +\n        \"You can use 'compose' to join multiple operation types to a component\");\n    type = queries.length ? DocumentType.Query : DocumentType.Mutation;\n    if (!queries.length && !mutations.length)\n        type = DocumentType.Subscription;\n    var definitions = queries.length\n        ? queries\n        : mutations.length ? mutations : subscriptions;\n    invariant_1.default(definitions.length === 1, \"react-apollo only supports one defintion per HOC. \" + document + \" had \" +\n        (definitions.length + \" definitions. \") +\n        \"You can use 'compose' to join multiple operation types to a component\");\n    var definition = definitions[0];\n    variables = definition.variableDefinitions || [];\n    if (definition.name && definition.name.kind === 'Name') {\n        name = definition.name.value;\n    }\n    else {\n        name = 'data';\n    }\n    return { name: name, type: type, variables: variables };\n}\nexports.parser = parser;\n//# sourceMappingURL=parser.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar PropTypes = require(\"prop-types\");\nvar parser_1 = require(\"./parser\");\nvar pick_1 = require(\"lodash/pick\");\nvar shallowEqual_1 = require(\"fbjs/lib/shallowEqual\");\nvar invariant_1 = require(\"invariant\");\nfunction observableQueryFields(observable) {\n    var fields = pick_1.default(observable, 'refetch', 'fetchMore', 'updateQuery', 'startPolling', 'stopPolling');\n    Object.keys(fields).forEach(function (key) {\n        var k = key;\n        if (typeof fields[k] === 'function') {\n            fields[k] = fields[k].bind(observable);\n        }\n    });\n    return fields;\n}\nfunction isDataFilled(data) {\n    return Object.keys(data).length > 0;\n}\nvar Query = (function (_super) {\n    __extends(Query, _super);\n    function Query(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        _this.initializeQueryObservable = function (props) {\n            var variables = props.variables, pollInterval = props.pollInterval, fetchPolicy = props.fetchPolicy, notifyOnNetworkStatusChange = props.notifyOnNetworkStatusChange, query = props.query;\n            var operation = parser_1.parser(query);\n            invariant_1.default(operation.type === parser_1.DocumentType.Query, \"The <Query /> component requires a graphql query, but got a \" + (operation.type === parser_1.DocumentType.Mutation ? 'mutation' : 'subscription') + \".\");\n            var clientOptions = {\n                variables: variables,\n                pollInterval: pollInterval,\n                query: query,\n                fetchPolicy: fetchPolicy,\n                notifyOnNetworkStatusChange: notifyOnNetworkStatusChange,\n            };\n            _this.queryObservable = _this.client.watchQuery(clientOptions);\n        };\n        _this.startQuerySubscription = function () {\n            _this.querySubscription = _this.queryObservable.subscribe({\n                next: _this.updateCurrentData,\n                error: function (error) {\n                    _this.resubscribeToQuery();\n                    if (!error.hasOwnProperty('graphQLErrors'))\n                        throw error;\n                    _this.updateCurrentData();\n                },\n            });\n        };\n        _this.removeQuerySubscription = function () {\n            if (_this.querySubscription) {\n                _this.querySubscription.unsubscribe();\n            }\n        };\n        _this.updateCurrentData = function () {\n            _this.setState({ result: _this.queryObservable.currentResult() });\n        };\n        _this.getQueryResult = function () {\n            var result = _this.state.result;\n            var loading = result.loading, error = result.error, networkStatus = result.networkStatus, data = result.data;\n            return __assign({ client: _this.client, data: isDataFilled(data) ? data : undefined, loading: loading,\n                error: error,\n                networkStatus: networkStatus }, observableQueryFields(_this.queryObservable));\n        };\n        invariant_1.default(!!context.client, \"Could not find \\\"client\\\" in the context of Query. Wrap the root component in an <ApolloProvider>\");\n        _this.client = context.client;\n        _this.initializeQueryObservable(props);\n        _this.state = {\n            result: _this.queryObservable.currentResult(),\n        };\n        return _this;\n    }\n    Query.prototype.fetchData = function () {\n        var _a = this.props, children = _a.children, ssr = _a.ssr, opts = __rest(_a, [\"children\", \"ssr\"]);\n        var fetchPolicy = opts.fetchPolicy;\n        if (ssr === false)\n            return false;\n        if (fetchPolicy === 'network-only' || fetchPolicy === 'cache-and-network') {\n            fetchPolicy = 'cache-first';\n        }\n        var observable = this.client.watchQuery(__assign({}, opts, { fetchPolicy: fetchPolicy }));\n        var result = this.queryObservable.currentResult();\n        if (result.loading) {\n            return observable.result();\n        }\n        else {\n            return false;\n        }\n    };\n    Query.prototype.componentDidMount = function () {\n        this.startQuerySubscription();\n    };\n    Query.prototype.componentWillReceiveProps = function (nextProps, nextContext) {\n        if (shallowEqual_1.default(this.props, nextProps) &&\n            this.client === nextContext.client) {\n            return;\n        }\n        if (this.client !== nextContext.client) {\n            this.client = nextContext.client;\n        }\n        this.removeQuerySubscription();\n        this.initializeQueryObservable(nextProps);\n        this.startQuerySubscription();\n        this.updateCurrentData();\n    };\n    Query.prototype.componentWillUnmount = function () {\n        this.removeQuerySubscription();\n    };\n    Query.prototype.render = function () {\n        var children = this.props.children;\n        var queryResult = this.getQueryResult();\n        return children(queryResult);\n    };\n    Query.prototype.resubscribeToQuery = function () {\n        this.removeQuerySubscription();\n        var lastError = this.queryObservable.getLastError();\n        var lastResult = this.queryObservable.getLastResult();\n        this.queryObservable.resetLastResults();\n        this.startQuerySubscription();\n        Object.assign(this.queryObservable, { lastError: lastError, lastResult: lastResult });\n    };\n    Query.contextTypes = {\n        client: PropTypes.object.isRequired,\n    };\n    return Query;\n}(React.Component));\nexports.default = Query;\n//# sourceMappingURL=Query.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar PropTypes = require(\"prop-types\");\nvar parser_1 = require(\"./parser\");\nvar pick_1 = require(\"lodash/pick\");\nvar object_assign_1 = require(\"object-assign\");\nvar hoist_non_react_statics_1 = require(\"hoist-non-react-statics\");\nvar shallowEqual_1 = require(\"fbjs/lib/shallowEqual\");\nvar invariant_1 = require(\"invariant\");\nvar defaultMapPropsToOptions = function () { return ({}); };\nvar defaultMapResultToProps = function (props) { return props; };\nvar defaultMapPropsToSkip = function () { return false; };\nfunction observableQueryFields(observable) {\n    var fields = pick_1.default(observable, 'variables', 'refetch', 'fetchMore', 'updateQuery', 'startPolling', 'stopPolling', 'subscribeToMore');\n    Object.keys(fields).forEach(function (key) {\n        var k = key;\n        if (typeof fields[k] === 'function') {\n            fields[k] = fields[k].bind(observable);\n        }\n    });\n    return fields;\n}\nfunction getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}\nvar nextVersion = 0;\nfunction graphql(document, operationOptions) {\n    if (operationOptions === void 0) { operationOptions = {}; }\n    var _a = operationOptions.options, options = _a === void 0 ? defaultMapPropsToOptions : _a, _b = operationOptions.skip, skip = _b === void 0 ? defaultMapPropsToSkip : _b, _c = operationOptions.alias, alias = _c === void 0 ? 'Apollo' : _c;\n    var mapPropsToOptions = options;\n    if (typeof mapPropsToOptions !== 'function')\n        mapPropsToOptions = function () { return options; };\n    var mapPropsToSkip = skip;\n    if (typeof mapPropsToSkip !== 'function')\n        mapPropsToSkip = function () { return skip; };\n    var mapResultToProps = operationOptions.props;\n    var operation = parser_1.parser(document);\n    var version = nextVersion++;\n    function wrapWithApolloComponent(WrappedComponent) {\n        var graphQLDisplayName = alias + \"(\" + getDisplayName(WrappedComponent) + \")\";\n        var GraphQL = (function (_super) {\n            __extends(GraphQL, _super);\n            function GraphQL(props, context) {\n                var _this = _super.call(this, props, context) || this;\n                _this.previousData = {};\n                _this.version = version;\n                _this.type = operation.type;\n                _this.dataForChildViaMutation = _this.dataForChildViaMutation.bind(_this);\n                _this.setWrappedInstance = _this.setWrappedInstance.bind(_this);\n                return _this;\n            }\n            GraphQL.prototype.componentWillMount = function () {\n                if (!this.shouldSkip(this.props)) {\n                    this.setInitialProps();\n                }\n            };\n            GraphQL.prototype.componentDidMount = function () {\n                this.hasMounted = true;\n                if (this.type === parser_1.DocumentType.Mutation)\n                    return;\n                if (!this.shouldSkip(this.props)) {\n                    this.subscribeToQuery();\n                    if (this.refetcherQueue) {\n                        var _a = this.refetcherQueue, args = _a.args, resolve = _a.resolve, reject = _a.reject;\n                        this.queryObservable\n                            .refetch(args)\n                            .then(resolve)\n                            .catch(reject);\n                    }\n                }\n            };\n            GraphQL.prototype.componentWillReceiveProps = function (nextProps, nextContext) {\n                if (this.shouldSkip(nextProps)) {\n                    if (!this.shouldSkip(this.props)) {\n                        this.unsubscribeFromQuery();\n                    }\n                    return;\n                }\n                var client = mapPropsToOptions(nextProps).client;\n                if (shallowEqual_1.default(this.props, nextProps) &&\n                    (this.client === client || this.client === nextContext.client)) {\n                    return;\n                }\n                this.shouldRerender = true;\n                if (this.client !== client && this.client !== nextContext.client) {\n                    if (client) {\n                        this.client = client;\n                    }\n                    else {\n                        this.client = nextContext.client;\n                    }\n                    this.unsubscribeFromQuery();\n                    this.queryObservable = null;\n                    this.previousData = {};\n                    this.updateQuery(nextProps);\n                    if (!this.shouldSkip(nextProps)) {\n                        this.subscribeToQuery();\n                    }\n                    return;\n                }\n                if (this.type === parser_1.DocumentType.Mutation) {\n                    return;\n                }\n                if (this.type === parser_1.DocumentType.Subscription &&\n                    operationOptions.shouldResubscribe &&\n                    operationOptions.shouldResubscribe(this.props, nextProps)) {\n                    this.unsubscribeFromQuery();\n                    delete this.queryObservable;\n                    this.updateQuery(nextProps);\n                    this.subscribeToQuery();\n                    return;\n                }\n                this.updateQuery(nextProps);\n                this.subscribeToQuery();\n            };\n            GraphQL.prototype.componentWillUnmount = function () {\n                if (this.type === parser_1.DocumentType.Query) {\n                    if (this.queryObservable) {\n                        var recycler = this.getQueryRecycler();\n                        if (recycler) {\n                            recycler.recycle(this.queryObservable);\n                            delete this.queryObservable;\n                        }\n                    }\n                    this.unsubscribeFromQuery();\n                }\n                if (this.type === parser_1.DocumentType.Subscription)\n                    this.unsubscribeFromQuery();\n                this.hasMounted = false;\n            };\n            GraphQL.prototype.getQueryRecycler = function () {\n                return (this.context.getQueryRecycler &&\n                    this.context.getQueryRecycler(GraphQL));\n            };\n            GraphQL.prototype.getClient = function (props) {\n                if (this.client)\n                    return this.client;\n                var client = mapPropsToOptions(props).client;\n                if (client) {\n                    this.client = client;\n                }\n                else {\n                    this.client = this.context.client;\n                }\n                invariant_1.default(!!this.client, \"Could not find \\\"client\\\" in the context of \" +\n                    (\"\\\"\" + graphQLDisplayName + \"\\\". \") +\n                    \"Wrap the root component in an <ApolloProvider>\");\n                return this.client;\n            };\n            GraphQL.prototype.calculateOptions = function (props, newOpts) {\n                if (props === void 0) { props = this.props; }\n                var opts = mapPropsToOptions(props);\n                if (newOpts && newOpts.variables) {\n                    newOpts.variables = object_assign_1.default({}, opts.variables, newOpts.variables);\n                }\n                if (newOpts)\n                    opts = object_assign_1.default({}, opts, newOpts);\n                if (opts.variables || !operation.variables.length)\n                    return opts;\n                var variables = {};\n                for (var _i = 0, _a = operation.variables; _i < _a.length; _i++) {\n                    var _b = _a[_i], variable = _b.variable, type = _b.type;\n                    if (!variable.name || !variable.name.value)\n                        continue;\n                    var variableName = variable.name.value;\n                    var variableProp = props[variableName];\n                    if (typeof variableProp !== 'undefined') {\n                        variables[variableName] = variableProp;\n                        continue;\n                    }\n                    if (type.kind !== 'NonNullType') {\n                        variables[variableName] = null;\n                        continue;\n                    }\n                    invariant_1.default(typeof variableProp !== 'undefined', \"The operation '\" + operation.name + \"' wrapping '\" + getDisplayName(WrappedComponent) + \"' \" +\n                        (\"is expecting a variable: '\" + variable.name.value + \"' but it was not found in the props \") +\n                        (\"passed to '\" + graphQLDisplayName + \"'\"));\n                }\n                opts = __assign({}, opts, { variables: variables });\n                return opts;\n            };\n            GraphQL.prototype.calculateResultProps = function (result) {\n                var name = this.type === parser_1.DocumentType.Mutation ? 'mutate' : 'data';\n                if (operationOptions.name)\n                    name = operationOptions.name;\n                var newResult = (_a = {},\n                    _a[name] = result,\n                    _a.ownProps = this.props,\n                    _a);\n                if (mapResultToProps) {\n                    this.lastResultProps = mapResultToProps(newResult, this.lastResultProps);\n                    return this.lastResultProps;\n                }\n                return _b = {}, _b[name] = defaultMapResultToProps(result), _b;\n                var _a, _b;\n            };\n            GraphQL.prototype.setInitialProps = function () {\n                if (this.type === parser_1.DocumentType.Mutation) {\n                    return;\n                }\n                var opts = this.calculateOptions(this.props);\n                this.createQuery(opts);\n            };\n            GraphQL.prototype.createQuery = function (opts, props) {\n                if (props === void 0) { props = this.props; }\n                if (this.type === parser_1.DocumentType.Subscription) {\n                    this.queryObservable = this.getClient(props).subscribe(object_assign_1.default({ query: document }, opts));\n                }\n                else {\n                    var recycler = this.getQueryRecycler();\n                    var queryObservable = null;\n                    if (recycler)\n                        queryObservable = recycler.reuse(opts);\n                    if (queryObservable === null) {\n                        this.queryObservable = this.getClient(props).watchQuery(object_assign_1.default({\n                            query: document,\n                            metadata: {\n                                reactComponent: {\n                                    displayName: graphQLDisplayName,\n                                },\n                            },\n                        }, opts));\n                    }\n                    else {\n                        this.queryObservable = queryObservable;\n                    }\n                }\n            };\n            GraphQL.prototype.updateQuery = function (props) {\n                var opts = this.calculateOptions(props);\n                if (!this.queryObservable) {\n                    this.createQuery(opts, props);\n                }\n                if (this.queryObservable._setOptionsNoResult) {\n                    this.queryObservable._setOptionsNoResult(opts);\n                }\n                else {\n                    if (this.queryObservable.setOptions) {\n                        this.queryObservable\n                            .setOptions(opts)\n                            .catch(function () { return null; });\n                    }\n                }\n            };\n            GraphQL.prototype.fetchData = function () {\n                if (this.shouldSkip())\n                    return false;\n                if (operation.type === parser_1.DocumentType.Mutation ||\n                    operation.type === parser_1.DocumentType.Subscription)\n                    return false;\n                var opts = this.calculateOptions();\n                if (opts.ssr === false)\n                    return false;\n                if (opts.fetchPolicy === 'network-only' ||\n                    opts.fetchPolicy === 'cache-and-network') {\n                    opts.fetchPolicy = 'cache-first';\n                }\n                var observable = this.getClient(this.props).watchQuery(object_assign_1.default({ query: document }, opts));\n                var result = observable.currentResult();\n                if (result.loading) {\n                    return observable.result();\n                }\n                else {\n                    return false;\n                }\n            };\n            GraphQL.prototype.subscribeToQuery = function () {\n                var _this = this;\n                if (this.querySubscription) {\n                    return;\n                }\n                var next = function (results) {\n                    if (_this.type === parser_1.DocumentType.Subscription) {\n                        _this.lastSubscriptionData = results;\n                    }\n                    var clashingKeys = Object.keys(observableQueryFields(results.data));\n                    invariant_1.default(clashingKeys.length === 0, \"the result of the '\" + graphQLDisplayName + \"' operation contains \" +\n                        \"keys that conflict with the return object.\" +\n                        clashingKeys.map(function (k) { return \"'\" + k + \"'\"; }).join(', ') +\n                        \" not allowed.\");\n                    _this.forceRenderChildren();\n                };\n                var handleError = function (error) {\n                    _this.resubscribeToQuery();\n                    if (error.hasOwnProperty('graphQLErrors'))\n                        return next({ error: error });\n                    throw error;\n                };\n                this.querySubscription = this.queryObservable.subscribe({\n                    next: next,\n                    error: handleError,\n                });\n            };\n            GraphQL.prototype.unsubscribeFromQuery = function () {\n                if (this.querySubscription) {\n                    this.querySubscription.unsubscribe();\n                    delete this.querySubscription;\n                }\n            };\n            GraphQL.prototype.resubscribeToQuery = function () {\n                var lastSubscription = this.querySubscription;\n                if (lastSubscription) {\n                    delete this.querySubscription;\n                }\n                var _a = this.queryObservable, lastError = _a.lastError, lastResult = _a.lastResult;\n                this.queryObservable.resetLastResults();\n                this.subscribeToQuery();\n                Object.assign(this.queryObservable, { lastError: lastError, lastResult: lastResult });\n                if (lastSubscription) {\n                    lastSubscription.unsubscribe();\n                }\n            };\n            GraphQL.prototype.shouldSkip = function (props) {\n                if (props === void 0) { props = this.props; }\n                return mapPropsToSkip(props);\n            };\n            GraphQL.prototype.forceRenderChildren = function () {\n                this.shouldRerender = true;\n                if (this.hasMounted)\n                    this.forceUpdate();\n            };\n            GraphQL.prototype.getWrappedInstance = function () {\n                invariant_1.default(operationOptions.withRef, \"To access the wrapped instance, you need to specify \" +\n                    \"{ withRef: true } in the options\");\n                return this.wrappedInstance;\n            };\n            GraphQL.prototype.setWrappedInstance = function (ref) {\n                this.wrappedInstance = ref;\n            };\n            GraphQL.prototype.dataForChildViaMutation = function (mutationOpts) {\n                var opts = this.calculateOptions(this.props, mutationOpts);\n                if (typeof opts.variables === 'undefined')\n                    delete opts.variables;\n                opts.mutation = document;\n                return this.getClient(this.props).mutate(opts);\n            };\n            GraphQL.prototype.dataForChild = function () {\n                var _this = this;\n                if (this.type === parser_1.DocumentType.Mutation) {\n                    return this.dataForChildViaMutation;\n                }\n                var opts = this.calculateOptions(this.props);\n                var data = {};\n                object_assign_1.default(data, observableQueryFields(this.queryObservable));\n                if (this.type === parser_1.DocumentType.Subscription) {\n                    object_assign_1.default(data, {\n                        loading: !this.lastSubscriptionData,\n                        variables: opts.variables,\n                    }, this.lastSubscriptionData && this.lastSubscriptionData.data);\n                }\n                else {\n                    var currentResult = this.queryObservable.currentResult();\n                    var loading = currentResult.loading, error_1 = currentResult.error, networkStatus = currentResult.networkStatus;\n                    object_assign_1.default(data, { loading: loading, networkStatus: networkStatus });\n                    var logErrorTimeoutId_1 = setTimeout(function () {\n                        if (error_1) {\n                            var errorMessage = error_1;\n                            if (error_1.stack) {\n                                errorMessage = error_1.stack.includes(error_1.message)\n                                    ? error_1.stack\n                                    : error_1.message + \"\\n\" + error_1.stack;\n                            }\n                            console.error(\"Unhandled (in react-apollo:\" + graphQLDisplayName + \")\", errorMessage);\n                        }\n                    }, 10);\n                    Object.defineProperty(data, 'error', {\n                        configurable: true,\n                        enumerable: true,\n                        get: function () {\n                            clearTimeout(logErrorTimeoutId_1);\n                            return error_1;\n                        },\n                    });\n                    if (loading) {\n                        object_assign_1.default(data, this.previousData, currentResult.data);\n                    }\n                    else if (error_1) {\n                        object_assign_1.default(data, (this.queryObservable.getLastResult() || {}).data);\n                    }\n                    else {\n                        object_assign_1.default(data, currentResult.data);\n                        this.previousData = currentResult.data;\n                    }\n                    if (!this.querySubscription) {\n                        data.refetch = function (args) {\n                            return new Promise(function (r, f) {\n                                _this.refetcherQueue = { resolve: r, reject: f, args: args };\n                            });\n                        };\n                    }\n                }\n                return data;\n            };\n            GraphQL.prototype.render = function () {\n                if (this.shouldSkip()) {\n                    if (operationOptions.withRef) {\n                        return (React.createElement(WrappedComponent, __assign({}, object_assign_1.default({}, this.props, { ref: this.setWrappedInstance }))));\n                    }\n                    return React.createElement(WrappedComponent, __assign({}, this.props));\n                }\n                var _a = this, shouldRerender = _a.shouldRerender, renderedElement = _a.renderedElement, props = _a.props;\n                this.shouldRerender = false;\n                if (!shouldRerender &&\n                    renderedElement &&\n                    renderedElement.type === WrappedComponent) {\n                    return renderedElement;\n                }\n                var data = this.dataForChild();\n                var clientProps = this.calculateResultProps(data);\n                var mergedPropsAndData = object_assign_1.default({}, props, clientProps);\n                if (operationOptions.withRef)\n                    mergedPropsAndData.ref = this.setWrappedInstance;\n                this.renderedElement = React.createElement(WrappedComponent, __assign({}, mergedPropsAndData));\n                return this.renderedElement;\n            };\n            GraphQL.displayName = graphQLDisplayName;\n            GraphQL.WrappedComponent = WrappedComponent;\n            GraphQL.contextTypes = {\n                client: PropTypes.object,\n                getQueryRecycler: PropTypes.func,\n            };\n            return GraphQL;\n        }(React.Component));\n        return hoist_non_react_statics_1.default(GraphQL, WrappedComponent, {});\n    }\n    return wrapWithApolloComponent;\n}\nexports.default = graphql;\n//# sourceMappingURL=graphql.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar ApolloConsumer_1 = require(\"./ApolloConsumer\");\nvar object_assign_1 = require(\"object-assign\");\nvar invariant_1 = require(\"invariant\");\nvar hoist_non_react_statics_1 = require(\"hoist-non-react-statics\");\nfunction getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}\nfunction withApollo(WrappedComponent, operationOptions) {\n    if (operationOptions === void 0) { operationOptions = {}; }\n    var withDisplayName = \"withApollo(\" + getDisplayName(WrappedComponent) + \")\";\n    var WithApollo = (function (_super) {\n        __extends(WithApollo, _super);\n        function WithApollo(props) {\n            var _this = _super.call(this, props) || this;\n            _this.setWrappedInstance = _this.setWrappedInstance.bind(_this);\n            return _this;\n        }\n        WithApollo.prototype.getWrappedInstance = function () {\n            invariant_1.default(operationOptions.withRef, \"To access the wrapped instance, you need to specify \" +\n                \"{ withRef: true } in the options\");\n            return this.wrappedInstance;\n        };\n        WithApollo.prototype.setWrappedInstance = function (ref) {\n            this.wrappedInstance = ref;\n        };\n        WithApollo.prototype.render = function () {\n            var _this = this;\n            return (React.createElement(ApolloConsumer_1.default, null, function (client) {\n                var props = object_assign_1.default({}, _this.props, {\n                    client: client,\n                    ref: operationOptions.withRef\n                        ? _this.setWrappedInstance\n                        : undefined,\n                });\n                return React.createElement(WrappedComponent, __assign({}, props));\n            }));\n        };\n        WithApollo.displayName = withDisplayName;\n        WithApollo.WrappedComponent = WrappedComponent;\n        return WithApollo;\n    }(React.Component));\n    return hoist_non_react_statics_1.default(WithApollo, WrappedComponent, {});\n}\nexports.default = withApollo;\n//# sourceMappingURL=withApollo.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar getDataFromTree_1 = require(\"./getDataFromTree\");\nexports.getDataFromTree = getDataFromTree_1.default;\n__export(require(\"./getDataFromTree\"));\nvar ApolloConsumer_1 = require(\"./ApolloConsumer\");\nexports.ApolloConsumer = ApolloConsumer_1.default;\n__export(require(\"./ApolloConsumer\"));\nvar ApolloProvider_1 = require(\"./ApolloProvider\");\nexports.ApolloProvider = ApolloProvider_1.default;\n__export(require(\"./ApolloProvider\"));\nvar Query_1 = require(\"./Query\");\nexports.Query = Query_1.default;\n__export(require(\"./Query\"));\nvar graphql_1 = require(\"./graphql\");\nexports.graphql = graphql_1.default;\n__export(require(\"./graphql\"));\nvar withApollo_1 = require(\"./withApollo\");\nexports.withApollo = withApollo_1.default;\nvar compose = require('lodash/flowRight');\nexports.compose = compose;\n//# sourceMappingURL=browser.js.map"],"names":["props","attributes","type","prototype","render","isReactComponent","getChildContext","Array","isArray","forEach","default","defaultProps","context","state","setState","componentWillMount","children","react_1","Children","fetchData","then","rootElement","rootContext","push","query","element","length","Promise","resolve","map","catch","all","Error","queryErrors","Object","defineProperty","value","client","contextTypes","object","isRequired","this","__assign","assign","arguments","hasOwnProperty","call","__rest","indexOf","getOwnPropertySymbols","observableQueries","recycle","setOptions","fetchPolicy","pollInterval","fetchResults","observableQuery","subscription","subscribe","reuse","pop","unsubscribe","ssr","shallowEqual","variables","__extends","setPrototypeOf","__proto__","constructor","create","recyclers","WeakMap","getQueryRecycler","bind","componentWillReceiveProps","has","set","queryRecycler_1","ObservableQueryRecycler","get","propTypes","childContextTypes","func","Component","createElement","only","DocumentType","kind","definitions","filter","operation","Query","Mutation","Subscription","variableDefinitions","name","pick_1","keys","initializeQueryObservable","notifyOnNetworkStatusChange","parser","queryObservable","watchQuery","startQuerySubscription","querySubscription","next","updateCurrentData","error","resubscribeToQuery","removeQuerySubscription","result","currentResult","getQueryResult","loading","networkStatus","data","componentDidMount","componentWillUnmount","getLastError","getLastResult","resetLastResults","lastError","lastResult","displayName","options","skip","alias","previousData","version","dataForChildViaMutation","setWrappedInstance","shouldSkip","setInitialProps","hasMounted","subscribeToQuery","refetcherQueue","args","reject","refetch","unsubscribeFromQuery","shouldRerender","updateQuery","shouldResubscribe","getClient","calculateOptions","variable","calculateResultProps","ownProps","lastResultProps","createQuery","metadata","reactComponent","_setOptionsNoResult","lastSubscriptionData","join","forceRenderChildren","forceUpdate","getWrappedInstance","withRef","wrappedInstance","mutation","mutate","dataForChild","setTimeout","stack","includes","message","console","configurable","enumerable","clearTimeout","ref","renderedElement","WrappedComponent","hoist_non_react_statics_1"],"mappings":"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"}